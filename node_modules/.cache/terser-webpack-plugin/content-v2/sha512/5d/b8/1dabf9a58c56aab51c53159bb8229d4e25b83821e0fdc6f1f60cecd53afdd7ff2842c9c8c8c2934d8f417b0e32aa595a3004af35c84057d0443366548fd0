{"code":"!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t){var a=960,n=500,o=d3.geo.albersUsa().translate([a/2,n/2]).scale([1e3]),r=d3.geo.path().projection(o),i=(d3.scale.linear().range([\"rgb(213,222,217)\",\"rgb(69,173,168)\",\"rgb(84,36,55)\",\"rgb(217,91,67)\"]),d3.select(\"body\").append(\"svg\").attr(\"width\",a).attr(\"height\",n),d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\").style(\"opacity\",0),d3.selectAll(\"option\").on(\"click\",function(e){console.log({feature:e})}));console.log(i);var s=\"Overall\",l={Alabama:!0,Alaska:!0,Arizona:!0,Arkansas:!0,California:!0,Colorado:!0,Connecticut:!0,Delaware:!0,\"District of Columbia\":!0,Florida:!0,Georgia:!0,Hawaii:!0,Idaho:!0,Illinois:!0,Indiana:!0,Iowa:!0,Kansas:!0,Kentucky:!0,Louisiana:!0,Maine:!0,Maryland:!0,Massachusetts:!0,Michigan:!0,Minnesota:!0,Mississippi:!0,Missouri:!0,Montana:!0,Nebraska:!0,Nevada:!0,\"New Hampshire\":!0,\"New Jersey\":!0,\"New Mexico\":!0,\"New York\":!0,\"North Carolina\":!0,\"North Dakota\":!0,Ohio:!0,Oklahoma:!0,Oregon:!0,Pennsylvania:!0,\"Rhode Island\":!0,\"South Carolina\":!0,\"South Dakota\":!0,Tennessee:!0,Texas:!0,Utah:!0,Vermont:!0,Virginia:!0,Washington:!0,\"West Virginia\":!0,Wisconsin:!0,Wyoming:!0,\"Puerto Rico\":!0};function f(e,t){console.log(\"map updating\",t),d3.selectAll(\"svg\").remove();var o=d3.select(\"#map\").append(\"svg\").attr(\"width\",a).attr(\"height\",n);d3.csv(\"data/state_testdata.csv\",function(a){var n=0;d3.json(\"data/us-states.json\",function(i){for(var c=0;c<a.length;c++){var u,d=a[c].State;t[d]&&(u=a[c][e],Math.abs(u)>n&&(n=Math.abs(u)));for(var p=0;p<i.features.length;p++){if(d==i.features[p].properties.name){i.features[p].properties.value=u;break}}}console.log({mag:n}),o.selectAll(\"path\").data(i.features).enter().append(\"path\").attr(\"d\",r).style(\"stroke\",\"#fff\").style(\"stroke-width\",\"1\").style(\"fill\",function(e){var t=e.properties.value;return t?t<0?d3.interpolate(\"#ffffff\",\"#ff7f50\")(Math.abs(t)/n):d3.interpolate(\"#ffffff\",\"#50d0ff\")(Math.abs(t)/n):\"#000000\"}).on(\"click\",function(e){var t=e.properties.name;console.log(t,\"clicked\"),l[t]=!l[t],f(s,l)})})})}f(s,l)}]);","extractedComments":[]}