{"code":"!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e){var n=960,o=500,r=\"Overall\",a={},i={};function s(t){return t.replace(/\\s/g,\"\")}function c(t,e){d3.select(\"#\"+s(t)).classed(\"selected\",e).style(\"fill\",function(){return e?l(t,r):\"#000\"})}function l(t,e){var n=e+\"Diff\",o=a[t][n],r=i[n];return o?o>0?d3.interpolate(\"#ffffff\",\"#ff7f50\")(Math.abs(o)/r):d3.interpolate(\"#ffffff\",\"#50d0ff\")(Math.abs(o)/r):\"#444\"}function f(t){for(var e in r=t,a)d3.select(\"#\"+s(e)).style(\"fill\",function(){return this.classList.contains(\"selected\")?l(e,t):\"#000\"})}function d(t){for(var e in a)c(e,t)}console.log(\"page setup function called\"),d3.selectAll(\".option\").on(\"click\",function(){d3.selectAll(\".option\").classed(\"active\",!1),d3.select(\"#\"+this.id).classed(\"active\",!0),f(this.id)}),d3.select(\"#allStates\").on(\"click\",function(){d(!0)}),d3.select(\"#noStates\").on(\"click\",function(){d(!1)}),d3.json(\"data/state-categories.json\",function(t){for(var e in t)d3.select(\"#\"+t[e].type),d3.select(\"#\"+e).on(\"click\",function(){var e=t[this.id];for(var n in d(!1),e.states){var o=e.states[n];c(o,!0)}}).on(\"mouseover\",function(){var e=t[this.id];d3.select(\"#state-option-description\").text(e.description)}).on(\"mouseout\",function(){d3.select(\"#state-option-description\").text(\"\")})}),function(){console.log(\"draw map function called\");var t=d3.geo.albersUsa().translate([n/2,o/2]).scale([1e3]),e=d3.geo.path().projection(t),l=d3.select(\"body\").append(\"svg\").attr(\"width\",n).attr(\"height\",o),d=d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\").style(\"opacity\",0),l=d3.select(\"#map\").append(\"svg\").attr(\"width\",n).attr(\"height\",o);d3.json(\"data/us-states.json\",function(t){l.selectAll(\"path\").data(t.features).enter().append(\"path\").attr(\"d\",e).classed(\"selected\",!0).attr(\"id\",function(t){return s(t.properties.name)}).style(\"stroke\",\"#fff\").style(\"stroke-width\",\"1\").on(\"click\",function(t){var e=!this.classList.contains(\"selected\");c(t.properties.name,e)}).on(\"mouseover\",function(t){var e=t.properties.name;d.transition().duration(200).style(\"opacity\",1),d.text(e+\": \"+a[t.properties.name][r]).style(\"left\",d3.event.pageX+\"px\").style(\"top\",d3.event.pageY-28+\"px\")}).on(\"mouseout\",function(t){d.transition().duration(200).style(\"opacity\",0)}),d3.csv(\"data/poverty_demographics.csv\",function(t){var e=Object.keys(t[0]);for(var n in e)i[e[n]]=0;for(var o=0;o<t.length;o++){var s=t[o].State;for(var n in a[s]={},e){var c=t[o][e[n]];a[s][e[n]]=c,Math.abs(c)>i[e[n]]&&(i[e[n]]=Math.abs(c))}}f(r)})})}()}]);","extractedComments":[]}