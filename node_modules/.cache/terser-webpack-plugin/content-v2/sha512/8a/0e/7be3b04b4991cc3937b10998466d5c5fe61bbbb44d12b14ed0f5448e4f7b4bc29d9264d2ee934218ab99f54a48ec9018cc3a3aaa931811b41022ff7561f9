{"code":"!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t){var a=960,r=500,n=d3.geo.albersUsa().translate([a/2,r/2]).scale([1e3]),o=d3.geo.path().projection(n),i=(d3.scale.linear().range([\"rgb(213,222,217)\",\"rgb(69,173,168)\",\"rgb(84,36,55)\",\"rgb(217,91,67)\"]),d3.select(\"body\").append(\"svg\").attr(\"width\",a).attr(\"height\",r),d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\").style(\"opacity\",0),\"Overall\"),s={\"United States\":!0,Alabama:!0,Alaska:!0,Arizona:!0,Arkansas:!0,California:!0,Colorado:!0,Connecticut:!0,Delaware:!0,\"District of Columbia\":!0,Florida:!0,Georgia:!0,Hawaii:!0,Idaho:!0,Illinois:!0,Indiana:!0,Iowa:!0,Kansas:!0,Kentucky:!0,Louisiana:!0,Maine:!0,Maryland:!0,Massachusetts:!0,Michigan:!0,Minnesota:!0,Mississippi:!0,Missouri:!0,Montana:!0,Nebraska:!0,Nevada:!0,\"New Hampshire\":!0,\"New Jersey\":!0,\"New Mexico\":!0,\"New York\":!0,\"North Carolina\":!0,\"North Dakota\":!0,Ohio:!0,Oklahoma:!0,Oregon:!0,Pennsylvania:!0,\"Rhode Island\":!0,\"South Carolina\":!0,\"South Dakota\":!0,Tennessee:!0,Texas:!0,Utah:!0,Vermont:!0,Virginia:!0,Washington:!0,\"West Virginia\":!0,Wisconsin:!0,Wyoming:!0,\"\":!0,\"Puerto Rico\":!0};function l(e,t){console.log(\"map updating\",t),d3.selectAll(\"svg\").remove();var n=d3.select(\"#map\").append(\"svg\").attr(\"width\",a).attr(\"height\",r);d3.csv(\"data/poverty_demographics.csv\",function(a){var r=0;d3.json(\"data/us-states.json\",function(f){for(var u=0;u<a.length;u++){var c,d=a[u].State;t[d]&&(c=a[u][e],console.log({val:c}),Math.abs(c)>r&&(r=Math.abs(c)));for(var p=0;p<f.features.length;p++){if(d==f.features[p].properties.name){f.features[p].properties.value=c;break}}}console.log({mag:r}),n.selectAll(\"path\").data(f.features).enter().append(\"path\").attr(\"d\",o).style(\"stroke\",\"#fff\").style(\"stroke-width\",\"1\").style(\"fill\",function(e){var t=e.properties.value;return t?t<0?d3.interpolate(\"#ffffff\",\"#ff7f50\")(Math.abs(t)/r):d3.interpolate(\"#ffffff\",\"#50d0ff\")(Math.abs(t)/r):\"#000000\"}).on(\"click\",function(e){var t=e.properties.name;console.log(t,\"clicked\"),s[t]=!s[t],l(i,s)})})})}l(i,s)}]);","extractedComments":[]}